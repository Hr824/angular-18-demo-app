import{a as P,b as J}from"./chunk-Z2TWW65C.js";import{$ as x,A as $,Aa as D,L as a,N as f,P as j,Q as y,R as F,S as T,U as B,X as p,Y as c,Z as t,_ as e,a as k,b as E,da as L,i as _,ia as n,j as I,ja as l,la as O,na as R,oa as u,pa as h,ua as v,v as g,y as A,z as C}from"./chunk-BYXBJPPA.js";var U=(()=>{let i=class i{constructor(d){this.httpClient=d,this.BOOK_API_URL="api/books",this.AUTHOR_API_URL="api/authors"}getBooks(){return this.httpClient.get(this.BOOK_API_URL)}getAuthors(){return this.httpClient.get(this.AUTHOR_API_URL)}getBooksWithAuthors(){let d=this.getBooks(),m=this.getAuthors();return I([d,m]).pipe(_(([W,w])=>W.map(S=>E(k({},S),{author:w.find(H=>H.id===S.authorId)}))))}};i.\u0275fac=function(m){return new(m||i)(A(D))},i.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var b=(r,i)=>i.id,M=()=>[v];function N(r,i){if(r&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e()()),r&2){let o=i.$implicit;a(2),l(o.id),a(2),l(o.title),a(2),l(o.authorId)}}function q(r,i){if(r&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e()()),r&2){let o=i.$implicit;a(2),l(o.id),a(2),l(o.firstname),a(2),l(o.lastname)}}function z(r,i){if(r&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e()()),r&2){let o=i.$implicit;a(2),l(o.id),a(2),l(o.title),a(2),O("",o.author==null?null:o.author.firstname," ",o.author==null?null:o.author.lastname,"")}}function G(r,i){if(r&1&&(t(0,"div",10),n(1," R\xE9sultat du forkJoin() "),e(),t(2,"table",11)(3,"thead")(4,"tr")(5,"th",7),n(6,"Id Livre"),e(),t(7,"th",7),n(8,"Titre"),e(),t(9,"th",7),n(10,"Auteur"),e()()(),t(11,"tbody"),p(12,z,7,4,"tr",null,b),u(14,"async"),e()()),r&2){let o=L();a(12),c(h(14,0,o.booksWithAuthors$))}}function Q(r,i){r&1&&x(0,"app-loader")}var at=(()=>{let i=class i{constructor(){this.theme=f("RxJS"),this.page=f("forkJoin"),this.bookService=C(U)}ngOnInit(){this.books$=this.bookService.getBooks(),this.authors$=this.bookService.getAuthors(),this.booksWithAuthors$=this.bookService.getBooksWithAuthors()}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=$({type:i,selectors:[["app-forkjoin"]],standalone:!0,features:[R],decls:45,vars:6,consts:[[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-6"],[1,"table","table-striped","table-success"],["scope","col"],[1,"table","table-striped","table-warning"],[1,"row","mg-top-40"],[1,"text-decoration-underline"],[1,"table","table-striped"]],template:function(m,s){m&1&&(x(0,"app-breadcrumb",1),t(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),n(5,"RxJS : Op\xE9rateur forkjoin()"),e(),t(6,"div"),n(7," forkJoin() de 2 observables (Livres et Auteurs) "),e(),t(8,"div"),n(9,' La jointure se fait sur la propri\xE9t\xE9 "Id Auteur" '),e()()()(),t(10,"div",2)(11,"div",5)(12,"table",6)(13,"thead")(14,"tr")(15,"th",7),n(16,"Id Livre"),e(),t(17,"th",7),n(18,"Titre"),e(),t(19,"th",7),n(20,"Id Auteur"),e()()(),t(21,"tbody"),p(22,N,7,3,"tr",null,b),u(24,"async"),e()()(),t(25,"div",5)(26,"table",8)(27,"thead")(28,"tr")(29,"th",7),n(30,"Id Auteur"),e(),t(31,"th",7),n(32,"Pr\xE9nom"),e(),t(33,"th",7),n(34,"Nom"),e()()(),t(35,"tbody"),p(36,q,7,3,"tr",null,b),u(38,"async"),e()()()(),t(39,"div",9)(40,"div",3),j(41,G,15,2)(42,Q,1,0),F(43,41,M,null,42,null,null,0,y),T(),e()()),m&2&&(B("theme",s.theme())("page",s.page()),a(22),c(h(24,2,s.books$)),a(14),c(h(38,4,s.authors$)))},dependencies:[J,P,v]});let r=i;return r})();export{at as ForkjoinComponent};
