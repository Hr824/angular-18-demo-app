import{a as B}from"./chunk-PSRLKYCC.js";import{a as A,b as R}from"./chunk-YF7ZNRLH.js";import"./chunk-XWBHPQRK.js";import{R as T,fa as w}from"./chunk-33UFYCIE.js";import{Db as m,Pb as e,Qb as _,Rb as d,Sb as D,Va as s,Xb as I,a as h,bb as u,fb as b,ia as f,ib as c,mb as S,nb as E,oa as y,ob as g,qb as C,qc as M,sb as v,xb as n,yb as t,zb as x}from"./chunk-CLEAX7HT.js";import"./chunk-2NFLSA4Y.js";var F=()=>[w];function L(i,a){if(i&1&&(n(0,"p",12)(1,"span",13),e(2,"Synopsis"),t(),e(3," :"),x(4,"br"),e(5),t()),i&2){let r=m(4);s(5),d(" ",r.movie().synopsis,"")}}function P(i,a){if(i&1&&(n(0,"div",8)(1,"div",10),e(2),t(),n(3,"div",11)(4,"p",12)(5,"span",13),e(6,"Ann\xE9e"),t(),e(7),t(),n(8,"p",12)(9,"span",13),e(10,"Dur\xE9e"),t(),e(11),t(),n(12,"p",12)(13,"span",13),e(14,"Genre"),t(),e(15),t(),n(16,"p",12)(17,"span",13),e(18,"R\xE9alisateur"),t(),e(19),t(),n(20,"p",12)(21,"span",13),e(22,"Acteurs principaux"),t(),e(23),t(),c(24,L,6,1,"p",12),t()()),i&2){let r,o=m(3);s(2),_(o.movie().title),s(5),d(" : ",o.movie().year,""),s(4),d(" : ",o.movie().duration,""),s(4),d(" : ",o.movie().types.join(", "),""),s(4),D(" : ",(r=o.movie().director)==null?null:r.firstname," ",(r=o.movie().director)==null?null:r.lastname,""),s(4),d(" : ",o.movie().actors.join(", "),""),s(),v(o.displaySynopsis()?24:-1)}}function W(i,a){if(i&1&&(n(0,"div",9),e(1),t()),i&2){let r=m(3);s(),_(r.message())}}function j(i,a){if(i&1&&c(0,P,25,8,"div",8)(1,W,2,1,"div",9),i&2){let r=m(2);v(r.movie().id>0?0:1)}}function O(i,a){if(i&1&&(n(0,"div",6),c(1,j,2,1),n(2,"div")(3,"button",7),e(4,"Retour \xE0 la liste des films"),t()()()),i&2){let r=m();s(),v(r.movie()?1:-1)}}function k(i,a){i&1&&x(0,"app-loader")}var N=(()=>{let a=class a{constructor(){this.id=0,this.theme="Signals",this.page="D\xE9tails",this.message=u(""),this.displaySynopsis=u(!1),this.movie=u({id:0,title:"",year:0,duration:"",synopsis:"",directorId:0,types:[],actors:[]}),this.subscriptions=new h,this.movieService=f(B),this.route=f(T)}ngOnInit(){this.getMovieByIdWithDirector(this.id);let o=this.route.snapshot.queryParamMap.get("displaySynopsis");o?this.displaySynopsis.set(o.toLowerCase()==="true"):this.displaySynopsis.set(!1)}ngOnDestroy(){this.subscriptions.unsubscribe()}getMovieByIdWithDirector(o){let l=this.movieService.getMovieByIdWithDirector(o);this.subscriptions.add(l.subscribe({next:p=>{this.movie.set(p)},error:p=>{this.message.set("Aucun r\xE9sultat disponible")}}))}};a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=y({type:a,selectors:[["app-movie-details"]],inputs:{id:[2,"id","id",M]},standalone:!0,features:[b,I],decls:22,vars:2,consts:[[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"fw-bold"],[1,"mg-bottom-20"],["routerLink","/signals/movies/delete",1,"btn","btn-sm","btn-outline-info","rounded-pill"],[1,"card","border-info","mb-2"],[1,"text-danger","mb-2"],[1,"card-header","text-center","fw-bold"],[1,"card-body"],[1,"card-text"],[1,"fw-semibold","fst-italic"]],template:function(l,p){l&1&&(x(0,"app-breadcrumb",1),n(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),e(5,"Signals + Route parameters + Query parameters"),t(),n(6,"div"),e(7," - Utilisation de "),n(8,"span",5),e(9,"@Input()"),t(),e(10," pour acc\xE9der au param\xE8tre de route "),t(),n(11,"div"),e(12," - Utilisation de "),n(13,"span",5),e(14,"{transform: numberAttribute}"),t(),e(15,' pour changer le type du param\xE8tre de route en "number" '),t()()()(),n(16,"div",2)(17,"div",3),c(18,O,5,1)(19,k,1,0),E(20,18,F,null,19,null,null,0,S),g(),t()()),l&2&&C("theme",p.theme)("page",p.page)},dependencies:[A,R]});let i=a;return i})();export{N as MovieDetailsComponent};
