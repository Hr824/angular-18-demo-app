import{a as G}from"./chunk-5UF6UW3V.js";import{a as Y,b as j}from"./chunk-RSGSVK36.js";import"./chunk-6WDZCA3R.js";import"./chunk-T5HF4JQE.js";import{Y as A,ya as q}from"./chunk-IWMDYRTP.js";import{$b as n,Aa as s,Ba as m,Cb as k,Db as I,Eb as t,Fb as i,Gb as y,Hb as g,Hc as P,Ob as u,Pb as S,Ya as a,Yb as D,Zb as M,a as W,ac as C,bc as E,dc as F,ec as w,fb as _,fc as O,gb as T,hb as v,hc as x,ja as B,ob as V,pa as b,sb as L,tb as N,ub as z,wb as p,zb as R}from"./chunk-55UNAIJ6.js";import"./chunk-2NFLSA4Y.js";var J=(()=>{class o{constructor(){this.counter=v.required()}increaseCounter(){this.counter()<10&&this.counter.update(()=>this.counter()+1)}decreaseCounter(){this.counter.update(()=>this.counter()>0?this.counter()-1:0)}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-child1"]],inputs:{counter:[1,"counter"]},outputs:{counter:"counterChange"},standalone:!0,features:[x],decls:12,vars:5,consts:[[1,"card","border-info","mb-3",2,"max-width","18rem","min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[3,"click","disabled","ngClass"],[1,"card-text","mg-top-40",2,"height","5rem"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"div",1),n(2,"Child Component"),i(),t(3,"div",2)(4,"button",3),u("click",function(){return l.decreaseCounter()}),n(5,"D\xE9cr\xE9menter"),i(),n(6,"\xA0 "),t(7,"button",3),u("click",function(){return l.increaseCounter()}),n(8,"Incr\xE9menter"),i(),t(9,"div",4)(10,"h2"),n(11),i()()()()),r&2&&(a(4),p("disabled",l.counter()<=0)("ngClass",l.counter()>0?"btn btn-outline-info btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),a(3),p("disabled",l.counter()>=10)("ngClass",l.counter()<10?"btn btn-outline-info btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),a(4),C(l.counter()))},dependencies:[q,A]})}}return o})();var X=["childSelect"],K=(()=>{class o{constructor(){this.option=v.required(),this.city=v.required(),this.childSelect=T.required("childSelect"),this.childSelectedIndex=P(()=>{let e=this.childSelect().nativeElement;e.selectedIndex=Number(this.option())})}onChange(e){let r=e.target;this.option.set(r.value),this.city.set(r.selectedOptions[0].innerText)}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-child2"]],viewQuery:function(r,l){r&1&&D(l.childSelect,X,5),r&2&&M()},inputs:{option:[1,"option"],city:[1,"city"]},outputs:{option:"optionChange",city:"cityChange"},standalone:!0,features:[x],decls:22,vars:1,consts:[["childSelect",""],[1,"card","border-info","mb-3",2,"max-width","18rem","min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],["aria-label","S\xE9lection ville",1,"form-select",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"card-text"]],template:function(r,l){if(r&1){let c=g();t(0,"div",1)(1,"div",2),n(2,"Child Component"),i(),t(3,"div",3)(4,"select",4,0),u("change",function(d){return s(c),m(l.onChange(d))}),t(6,"option",5),n(7,"S\xE9lectionnez une ville"),i(),t(8,"option",6),n(9,"Paris"),i(),t(10,"option",7),n(11,"Barcelone"),i(),t(12,"option",8),n(13,"Rome"),i(),t(14,"option",9),n(15,"New York"),i(),t(16,"option",10),n(17,"Munich"),i(),t(18,"option",11),n(19,"Londres"),i()(),t(20,"p",12),n(21),i()()()}r&2&&(a(21),C(l.childSelectedIndex()))}})}}return o})();var Z=(o,h)=>h.id,$=()=>[A];function ee(o,h){if(o&1){let e=g();t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td")(6,"button",6),u("click",function(){let l=s(e).$implicit,c=S(2);return m(c.removeArticle(l))}),n(7,"-"),i(),n(8,"\xA0 "),t(9,"button",6),u("click",function(){let l=s(e).$implicit,c=S(2);return m(c.addArticle(l))}),n(10,"+"),i(),n(11,"\xA0 "),t(12,"button",6),u("click",function(){let l=s(e).$implicit,c=S(2);return m(c.clearQuantity(l))}),n(13,"Supprimer"),i()()()}if(o&2){let e=h.$implicit;a(2),C(e.name),a(2),E("",e.unitPrice," \u20AC"),a(2),p("disabled",e.quantity<=0)("ngClass",e.quantity>0?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),a(3),p("disabled",e.quantity>=5)("ngClass",e.quantity<5?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),a(3),p("disabled",e.quantity<=0)("ngClass",e.quantity>0?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill")}}function te(o,h){if(o&1){let e=g();t(0,"table",4)(1,"thead")(2,"tr")(3,"th",5),n(4,"Article"),i(),t(5,"th",5),n(6,"Prix unitaire"),i(),t(7,"th")(8,"button",6),u("click",function(){s(e);let l=S();return m(l.clearQuantities())}),n(9,"Supprimer tout"),i()()()(),t(10,"tbody"),k(11,ee,14,8,"tr",null,Z),i()()}if(o&2){let e=S();a(8),p("disabled",e.quantities()<=0)("ngClass",e.quantities()>0?"btn btn-outline-info btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),a(3),I(e.articles())}}function ie(o,h){o&1&&y(0,"app-loader")}var U=(()=>{class o{constructor(){this.articles=v.required(),this.selectedArticles=v.required(),this.quantities=_(0)}addArticle(e){e.quantity<5&&(e.quantity+=1,e.totalPrice=e.quantity*e.unitPrice,this.selectedArticles.set(this.articles().filter(r=>r.quantity>0)),this.quantities.update(r=>r+1))}removeArticle(e){e.quantity>0&&(e.quantity-=1,e.totalPrice=e.quantity*e.unitPrice,this.selectedArticles.set(this.articles().filter(r=>r.quantity>0)),this.quantities.update(r=>r-1))}clearQuantity(e){e.quantity>0&&(this.quantities.update(r=>r-e.quantity),e.quantity=0,e.totalPrice=0,this.selectedArticles.set(this.articles().filter(r=>r.quantity>0)))}clearQuantities(){this.articles().forEach(e=>{e.quantity=0,e.totalPrice=0}),this.selectedArticles.set(this.articles().filter(e=>e.quantity>0)),this.quantities.set(0)}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-child3"]],inputs:{articles:[1,"articles"],selectedArticles:[1,"selectedArticles"]},outputs:{articles:"articlesChange",selectedArticles:"selectedArticlesChange"},standalone:!0,features:[x],decls:8,vars:0,consts:[[1500],[1,"card","border-info","mb-3"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"table","table-striped"],["scope","col"],[3,"click","disabled","ngClass"]],template:function(r,l){r&1&&(t(0,"div",1)(1,"div",2),n(2,"Child Component"),i(),t(3,"div",3),V(4,te,13,2)(5,ie,1,0),N(6,4,$,null,5,null,null,0,L),z(),i()())},dependencies:[Y,q]})}}return o})();var ne=["parentSelect"],re=(o,h)=>h.id;function le(o,h){if(o&1&&(t(0,"tr")(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td"),n(8),i()()),o&2){let e=h.$implicit;a(2),C(e.name),a(2),E("",e.unitPrice," \u20AC"),a(2),C(e.quantity),a(2),E("",e.totalPrice," \u20AC")}}function oe(o,h){if(o&1&&(t(0,"p",9),n(1,"Articles s\xE9lectionn\xE9s"),i(),t(2,"table",32)(3,"thead")(4,"tr")(5,"th",33),n(6,"Article"),i(),t(7,"th",33),n(8,"Prix unitaire"),i(),t(9,"th",33),n(10,"Quantit\xE9"),i(),t(11,"th",33),n(12,"Prix"),i()()(),t(13,"tbody"),k(14,le,9,4,"tr",null,re),i(),t(16,"tfoot")(17,"tr")(18,"th",34),n(19),i()()()()),o&2){let e=S();a(14),I(e.selectedArticles()),a(5),E("Total : ",e.total()," \u20AC")}}function ae(o,h){o&1&&(t(0,"p",9),n(1,"Aucun article s\xE9lectionn\xE9"),i())}var ke=(()=>{class o{constructor(){this.theme=_("Signals"),this.page=_("Model Input"),this.articles=_([]),this.selectedArticles=_([]),this.subscriptions=new W,this.articleService=B(G),this.total=P(()=>{let e=0;return this.selectedArticles().forEach(r=>{e+=r.quantity*r.unitPrice}),e}),this.counter=_(0),this.selectedOption=_("0"),this.selectedCity=_("Aucune ville s\xE9lectionn\xE9e"),this.parentSelect=T.required("parentSelect"),this.parentSelectedIndex=P(()=>{let e=this.parentSelect().nativeElement;e.selectedIndex=Number(this.selectedOption())})}ngOnInit(){this.getArticles()}ngOnDestroy(){this.subscriptions.unsubscribe()}getArticles(){let e=this.articleService.getArticles();this.subscriptions.add(e.subscribe({next:r=>{this.articles.set(r)}}))}increaseCounter(){this.counter()<10&&this.counter.update(()=>this.counter()+1)}decreaseCounter(){this.counter.update(()=>this.counter()>0?this.counter()-1:0)}onChange(e){let r=e.target;this.selectedOption.set(r.value),this.selectedCity.set(r.selectedOptions[0].innerText)}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-parent"]],viewQuery:function(r,l){r&1&&D(l.parentSelect,ne,5),r&2&&M()},standalone:!0,features:[x],decls:87,vars:14,consts:[["parentSelect",""],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-5"],[1,"card","border-danger","mb-3",2,"min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"card-text","fw-bold"],[1,"col-1","text-center"],[2,"font-size","70px"],[1,"col-6"],[3,"articlesChange","selectedArticlesChange","articles","selectedArticles"],[1,"row","mg-top-40"],[1,"col-3"],[1,"card","border-danger","mb-3",2,"max-width","18rem","min-height","15rem"],[3,"click","disabled","ngClass"],[1,"card-text","mg-top-40",2,"height","5rem"],[1,"col-2","text-center"],[3,"counterChange","counter"],[1,"col-4"],["aria-label","S\xE9lection ville",1,"form-select",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"card-text"],[3,"cityChange","optionChange","city","option"],[1,"table","table-striped"],["scope","col"],["colspan","4"]],template:function(r,l){if(r&1){let c=g();y(0,"app-breadcrumb",1),t(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),n(5,"Model Input Signals"),i()()()(),t(6,"div",2)(7,"div",3)(8,"h4"),n(9,"- Exemple 1"),i()()(),t(10,"div",2)(11,"div",5)(12,"div",6)(13,"div",7),n(14,"Parent Component"),i(),t(15,"div",8),V(16,oe,20,1)(17,ae,2,0,"p",9),i()()(),t(18,"div",10)(19,"div",11),n(20,"\u21C4"),i(),t(21,"div"),n(22,"Two-way binding"),i()(),t(23,"div",12)(24,"app-child3",13),O("articlesChange",function(d){return s(c),w(l.articles,d)||(l.articles=d),m(d)})("selectedArticlesChange",function(d){return s(c),w(l.selectedArticles,d)||(l.selectedArticles=d),m(d)}),i()()(),t(25,"div",14)(26,"div",3)(27,"h4"),n(28,"- Exemple 2"),i()()(),t(29,"div",2)(30,"div",15)(31,"div",16)(32,"div",7),n(33,"Parent Component"),i(),t(34,"div",8)(35,"button",17),u("click",function(){return s(c),m(l.decreaseCounter())}),n(36,"D\xE9cr\xE9menter"),i(),n(37,"\xA0 "),t(38,"button",17),u("click",function(){return s(c),m(l.increaseCounter())}),n(39,"Incr\xE9menter"),i(),t(40,"div",18)(41,"h2"),n(42),i()()()()(),t(43,"div",19)(44,"div",11),n(45,"\u21C4"),i(),t(46,"div"),n(47,"Two-way binding"),i()(),t(48,"div",15)(49,"app-child1",20),O("counterChange",function(d){return s(c),w(l.counter,d)||(l.counter=d),m(d)}),i()(),y(50,"div",21),i(),t(51,"div",14)(52,"div",3)(53,"h4"),n(54,"- Exemple 3"),i()()(),t(55,"div",2)(56,"div",15)(57,"div",16)(58,"div",7),n(59,"Parent Component"),i(),t(60,"div",8)(61,"select",22,0),u("change",function(d){return s(c),m(l.onChange(d))}),t(63,"option",23),n(64,"S\xE9lectionnez une ville"),i(),t(65,"option",24),n(66,"Paris"),i(),t(67,"option",25),n(68,"Barcelone"),i(),t(69,"option",26),n(70,"Rome"),i(),t(71,"option",27),n(72,"New York"),i(),t(73,"option",28),n(74,"Munich"),i(),t(75,"option",29),n(76,"Londres"),i()(),t(77,"p",30),n(78),i()()()(),t(79,"div",19)(80,"div",11),n(81,"\u21C4"),i(),t(82,"div"),n(83,"Two-way binding"),i()(),t(84,"div",15)(85,"app-child2",31),O("cityChange",function(d){return s(c),w(l.selectedCity,d)||(l.selectedCity=d),m(d)})("optionChange",function(d){return s(c),w(l.selectedOption,d)||(l.selectedOption=d),m(d)}),i()(),y(86,"div",21),i()}r&2&&(p("theme",l.theme())("page",l.page()),a(16),R(l.selectedArticles().length>0?16:17),a(8),F("articles",l.articles)("selectedArticles",l.selectedArticles),a(11),p("disabled",l.counter()<=0)("ngClass",l.counter()>0?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),a(3),p("disabled",l.counter()>=10)("ngClass",l.counter()<10?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),a(4),C(l.counter()),a(7),F("counter",l.counter),a(29),C(l.parentSelectedIndex()),a(7),F("city",l.selectedCity)("option",l.selectedOption))},dependencies:[q,A,j,J,K,U]})}}return o})();export{ke as ParentComponent};
