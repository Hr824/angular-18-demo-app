import{a as r}from"./chunk-XWBHPQRK.js";import{f}from"./chunk-L6T6LTFL.js";import{ca as h,ha as I,q as n,w as m}from"./chunk-P7DMQEFB.js";import{a as c,b as a}from"./chunk-2NFLSA4Y.js";var v=(()=>{let e=class e{constructor(t){this.httpClient=t}getMovies(){return this.httpClient.get(r.API_END_POINTS.MOVIES)}getDirectors(){return this.httpClient.get(r.API_END_POINTS.DIRECTORS).pipe(n(i=>i.map(s=>({id:s.id,firstname:s.firstname,lastname:s.lastname.toUpperCase()}))))}deleteMovie(t){return this.httpClient.delete(`${r.API_END_POINTS.MOVIES}/${t}`)}resetDatabase(t){return this.httpClient.post(`${r.API_END_POINTS.RESET_DB}/${t}`,{})}getMoviesWithDirectors(){let t=this.getMovies(),i=this.getDirectors();return m([t,i]).pipe(n(([l,d])=>l.map(p=>a(c({},p),{director:d.find(D=>D.id===p.directorId)}))))}};e.\u0275fac=function(i){return new(i||e)(I(f))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();export{v as a};
