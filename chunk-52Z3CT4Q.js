import{a as R}from"./chunk-OCLVCTM4.js";import{a as w,b as A}from"./chunk-FTPCZAMS.js";import"./chunk-6WDZCA3R.js";import{R as M,fa as T}from"./chunk-5XRSJY27.js";import"./chunk-BOH6CRPL.js";import{$b as e,Eb as o,Fb as t,Fc as I,Gb as v,Pb as s,Ya as r,a as _,ac as f,bc as l,cc as D,fb as c,hc as g,ja as x,jb as y,ob as p,pa as h,sb as b,tb as S,ub as E,wb as C,zb as u}from"./chunk-FRDNHHNW.js";import"./chunk-2NFLSA4Y.js";var B=()=>[T];function F(i,m){if(i&1&&(o(0,"p",12)(1,"span",13),e(2,"Synopsis"),t(),e(3," :"),v(4,"br"),e(5),t()),i&2){let n=s(4);r(5),l(" ",n.movie().synopsis,"")}}function L(i,m){if(i&1&&(o(0,"div",8)(1,"div",10),e(2),t(),o(3,"div",11)(4,"p",12)(5,"span",13),e(6,"Ann\xE9e"),t(),e(7),t(),o(8,"p",12)(9,"span",13),e(10,"Dur\xE9e"),t(),e(11),t(),o(12,"p",12)(13,"span",13),e(14,"Genre"),t(),e(15),t(),o(16,"p",12)(17,"span",13),e(18,"R\xE9alisateur"),t(),e(19),t(),o(20,"p",12)(21,"span",13),e(22,"Acteurs principaux"),t(),e(23),t(),p(24,F,6,1,"p",12),t()()),i&2){let n,a=s(3);r(2),f(a.movie().title),r(5),l(" : ",a.movie().year,""),r(4),l(" : ",a.movie().duration,""),r(4),l(" : ",a.movie().types.join(", "),""),r(4),D(" : ",(n=a.movie().director)==null?null:n.firstname," ",(n=a.movie().director)==null?null:n.lastname,""),r(4),l(" : ",a.movie().actors.join(", "),""),r(),u(a.displaySynopsis()?24:-1)}}function P(i,m){if(i&1&&(o(0,"div",9),e(1),t()),i&2){let n=s(3);r(),f(n.message())}}function W(i,m){if(i&1&&p(0,L,25,8,"div",8)(1,P,2,1,"div",9),i&2){let n=s(2);u(n.movie().id>0?0:1)}}function j(i,m){if(i&1&&(o(0,"div",6),p(1,W,2,1),o(2,"div")(3,"button",7),e(4,"Retour \xE0 la liste des films"),t()()()),i&2){let n=s();r(),u(n.movie()?1:-1)}}function O(i,m){i&1&&v(0,"app-loader")}var K=(()=>{class i{constructor(){this.id=0,this.theme="Signals",this.page="D\xE9tails",this.message=c(""),this.displaySynopsis=c(!1),this.movie=c({id:0,title:"",year:0,duration:"",synopsis:"",directorId:0,types:[],actors:[]}),this.subscriptions=new _,this.movieService=x(R),this.route=x(M)}ngOnInit(){this.getMovieByIdWithDirector(this.id);let n=this.route.snapshot.queryParamMap.get("displaySynopsis");n?this.displaySynopsis.set(n.toLowerCase()==="true"):this.displaySynopsis.set(!1)}ngOnDestroy(){this.subscriptions.unsubscribe()}getMovieByIdWithDirector(n){let a=this.movieService.getMovieByIdWithDirector(n);this.subscriptions.add(a.subscribe({next:d=>{this.movie.set(d)},error:d=>{this.message.set("Aucun r\xE9sultat disponible")}}))}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=h({type:i,selectors:[["app-movie-details"]],inputs:{id:[2,"id","id",I]},standalone:!0,features:[y,g],decls:22,vars:2,consts:[[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"fw-bold"],[1,"mg-bottom-20"],["routerLink","/signals/movies/delete",1,"btn","btn-sm","btn-outline-info","rounded-pill"],[1,"card","border-info","mb-2"],[1,"text-danger","mb-2"],[1,"card-header","text-center","fw-bold"],[1,"card-body"],[1,"card-text"],[1,"fw-semibold","fst-italic"]],template:function(a,d){a&1&&(v(0,"app-breadcrumb",1),o(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),e(5,"Signals + Route parameters + Query parameters"),t(),o(6,"div"),e(7," - Utilisation de "),o(8,"span",5),e(9,"@Input()"),t(),e(10," pour acc\xE9der au param\xE8tre de route "),t(),o(11,"div"),e(12," - Utilisation de "),o(13,"span",5),e(14,"{transform: numberAttribute}"),t(),e(15,' pour changer le type du param\xE8tre de route en "number" '),t()()()(),o(16,"div",2)(17,"div",3),p(18,j,5,1)(19,O,1,0),S(20,18,B,null,19,null,null,0,b),E(),t()()),a&2&&C("theme",d.theme)("page",d.page)},dependencies:[w,A]})}}return i})();export{K as MovieDetailsComponent};
