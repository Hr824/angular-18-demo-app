import{e as s}from"./chunk-FOSCC2JS.js";import{f}from"./chunk-NU7VILO4.js";import{ca as h,ha as d,q as n,w as m}from"./chunk-LS5FHDU7.js";import{a as c,b as p}from"./chunk-2NFLSA4Y.js";var I=(()=>{let e=class e{constructor(t){this.httpClient=t}getMovies(){return this.httpClient.get(s.MOVIES)}getDirectors(){return this.httpClient.get(s.DIRECTORS).pipe(n(i=>i.map(r=>({id:r.id,firstname:r.firstname,lastname:r.lastname.toUpperCase()}))))}deleteMovie(t){return this.httpClient.delete(`${s.MOVIES}/${t}`)}resetDatabase(t){return this.httpClient.post(`commands/resetdb/${t}`,{})}getMoviesWithDirectors(){let t=this.getMovies(),i=this.getDirectors();return m([t,i]).pipe(n(([l,$])=>l.map(a=>p(c({},a),{director:$.find(u=>u.id===a.directorId)}))))}};e.\u0275fac=function(i){return new(i||e)(d(f))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();export{I as a};
