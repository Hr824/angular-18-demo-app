import{a as C,b as m}from"./chunk-CKM5PF7L.js";import{b as x}from"./chunk-AHLR4UE3.js";import"./chunk-ZTPJUSTV.js";import"./chunk-MYRRSK7I.js";import{Pb as i,Qb as u,Va as o,Xb as f,a as p,ia as v,oa as b,qb as g,xb as e,yb as t,zb as c}from"./chunk-CNPTLGMH.js";import"./chunk-2NFLSA4Y.js";var D=(()=>{class l{constructor(){this.theme="Chart.js",this.page="Dashboard",this.subscriptions=new p,this.chartService=v(C),this.chartVentesMensuelles=[],this.labels=[],this.values=[],this.chartVendeurs=[],this.chartProduits=[]}ngOnInit(){this.createVentesMensuellesChart(),this.createVendeursChart(),this.createProduitsChart()}ngOnDestroy(){this.subscriptions.unsubscribe()}createVentesMensuellesChart(){this.subscriptions.add(this.chartService.getVentesMensuelles().subscribe({next:d=>{this.labels=d.map(n=>n.month),this.values=d.map(n=>n.value);let a=document.getElementById("canvasVentesMensuelles").getContext("2d"),s=a.createLinearGradient(0,0,0,300);s.addColorStop(.4,"orange"),s.addColorStop(1,"purple"),this.chartVentesMensuelles=new m(a,{type:"bar",data:{labels:this.labels,datasets:[{label:"CA (\u20AC)",data:this.values,borderWidth:1,backgroundColor:s}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Chiffre d'affaire mensuel"},tooltip:{displayColors:!1,callbacks:{label:n=>{let h="";return n.parsed.y!==null&&(h=n.parsed.y+" \u20AC"),h}}}},scales:{y:{beginAtZero:!0}}}})}}))}createVendeursChart(){let r=document.getElementById("canvasVendeurs").getContext("2d"),a={labels:["Vendeur 1","Vendeur 2","Vendeur 3"],datasets:[{data:[11200,11850.5,5044.5],borderWidth:1,backgroundColor:["rgb(251, 157, 190)","purple","green"],hoverOffset:4}]};this.chartVendeurs=new m(r,{type:"doughnut",data:a,options:{responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{displayColors:!1,callbacks:{label:s=>{let n="";return s.parsed!==null&&(n=s.parsed+" \u20AC"),n}}}}}})}createProduitsChart(){let r=document.getElementById("canvasProduits").getContext("2d"),a={labels:["Produit 1","Produit 2","Produit 3","Produit 4","Produit 5","Produit 6"],datasets:[{label:"",data:[4200,1735.5,3502.58,5106.59,960.34,2965.45],borderWidth:1,backgroundColor:["rgb(178,216,216)","rgb(102,178,178)","rgb(0,150,150)","rgb(0,128,128)","rgb(0,102,102)","rgb(0,76,76)"]}]};this.chartProduits=new m(r,{type:"bar",data:a,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{boxWidth:0}},tooltip:{displayColors:!1,callbacks:{label:s=>{let n="";return s.parsed!==null&&(n=s.parsed.x+" \u20AC"),n}}}}}})}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=b({type:l,selectors:[["app-dashboard-user"]],standalone:!0,features:[f],decls:65,vars:5,consts:[[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-1"],[1,"col-10"],[1,"card","bg-light"],[1,"row",2,"margin","5px"],[1,"col-3"],[1,"card","h-100"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text","text-center"],[1,"col-6"],[1,"chart-container",2,"position","relative","height","25vh"],["id","canvasVentesMensuelles"],[1,"card"],["id","canvasVendeurs"],["id","canvasProduits"]],template:function(r,a){r&1&&(c(0,"app-breadcrumb",0),e(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),i(5,"Chart.js"),t(),e(6,"div"),i(7," Exemple de dashboard utilisant des observables "),t()()()(),e(8,"div",1),c(9,"div",4),e(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"h4",11),i(17,"Nombre de ventes"),t(),e(18,"h5",12),i(19,"350"),t()()()(),e(20,"div",8)(21,"div",9)(22,"div",10)(23,"h4",11),i(24,"Chiffre d'affaire"),t(),e(25,"h5",12),i(26,"28095 \u20AC"),t()()()(),e(27,"div",8)(28,"div",9)(29,"div",10)(30,"h4",11),i(31,"Ventes Web"),t(),e(32,"h5",12),i(33,"128"),t()()()(),e(34,"div",8)(35,"div",9)(36,"div",10)(37,"h4",11),i(38,"Ventes annul\xE9es"),t(),e(39,"h5",12),i(40,"2"),t()()()()(),e(41,"div",7)(42,"div",13)(43,"div",9)(44,"div",10)(45,"div",14)(46,"canvas",15),i(47),t()()()()(),e(48,"div",8)(49,"div",16)(50,"div",10)(51,"h5",11),i(52,"CA mensuel vendeurs"),t(),e(53,"div",14)(54,"canvas",17),i(55),t()()()()(),e(56,"div",8)(57,"div",9)(58,"div",10)(59,"h5",11),i(60,"CA mensuel produits"),t(),e(61,"div",14)(62,"canvas",18),i(63),t()()()()()()()(),c(64,"div",4),t()),r&2&&(g("theme",a.theme)("page",a.page),o(47),u(a.chartVentesMensuelles),o(8),u(a.chartVendeurs),o(8),u(a.chartProduits))},dependencies:[x]})}}return l})();export{D as DashboardUserComponent};
