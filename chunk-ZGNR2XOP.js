import{a as L}from"./chunk-XEHKSWIM.js";import{d as M,g as F,l as B,m as R,n as O,q}from"./chunk-43MB7BL2.js";import{a as V,b as I}from"./chunk-GF7T5KLA.js";import"./chunk-NU7VILO4.js";import{Bb as C,Cb as x,Mb as i,Nb as y,Ob as p,Ub as P,Va as o,Wb as d,Xb as s,bb as S,ia as T,ib as u,m as _,mb as w,nb as $,oa as A,ob as N,qb as h,sb as g,ub as k,vb as D,wb as e,xb as t,ya as f,yb as E,za as v,zb as b}from"./chunk-LS5FHDU7.js";import"./chunk-2NFLSA4Y.js";var j=(n,a)=>a.id,G=()=>[R,O,B,M,F,import("./chunk-BZC5QE2C.js").then(n=>n.AsyncPipe),import("./chunk-UCXKRAFO.js").then(n=>n.RouterLink)];function z(n,a){n&1&&(e(0,"span"),i(1,"articles"),t())}function H(n,a){n&1&&(e(0,"span"),i(1,"article"),t())}function J(n,a){if(n&1){let r=b();e(0,"button",17),C("click",function(){f(r);let l=x(2);return v(l.clearCart())}),i(1,"Vider le panier"),t()}}function K(n,a){if(n&1){let r=b();e(0,"div",16)(1,"div",18)(2,"div",9)(3,"h5",10),i(4),t(),e(5,"p",19),i(6),t(),e(7,"p",19),i(8),e(9,"span",20),i(10),t(),e(11,"span"),i(12),t()(),e(13,"p",19)(14,"span",21),i(15,"Modifier"),t(),e(16,"select",22,0),C("change",function(l){let m=f(r).$implicit,Q=x(2);return v(Q.onQuantityChange(l,m))}),e(18,"option",23),i(19,"1"),t(),e(20,"option",24),i(21,"2"),t(),e(22,"option",25),i(23,"3"),t(),e(24,"option",26),i(25,"4"),t(),e(26,"option",27),i(27,"5"),t(),e(28,"option",28),i(29,"6"),t(),e(30,"option",29),i(31,"7"),t(),e(32,"option",30),i(33,"8"),t(),e(34,"option",31),i(35,"9"),t(),e(36,"option",32),i(37,"10"),t()()(),e(38,"p",12)(39,"button",33),C("click",function(){let l=f(r).$implicit,m=x(2);return v(m.removeToCart(l))}),i(40,"Supprimer"),t()()()()()}if(n&2){let r=a.$implicit;o(4),y(r.description),o(2),y(r.color),o(2),p("",r.quantity," x "),o(2),p("",r.unitPrice," \u20AC"),o(2),p(" = ",r.totalPrice," \u20AC"),o(4),h("ngModel",r.quantity)}}function U(n,a){if(n&1&&(e(0,"div",6)(1,"div",4)(2,"div",7)(3,"h5",8),i(4,"Panier"),t(),e(5,"div",9)(6,"h5",10),i(7),d(8,"async"),u(9,z,2,0,"span"),d(10,"async"),u(11,H,2,0,"span"),t(),e(12,"h5",10),i(13,"Total : "),e(14,"span",11),i(15),d(16,"async"),t()(),e(17,"p",12)(18,"a",13),i(19,"Retour aux articles"),t(),u(20,J,2,0,"button",14),d(21,"async"),t()()()()(),e(22,"div",15),k(23,K,41,6,"div",16,j),d(25,"async"),t()),n&2){let r=x();o(7),p("",s(8,4,r.cartNbArticles$)," "),o(2),g(s(10,6,r.cartNbArticles$)>1?9:11),o(6),p("",s(16,8,r.cartTotalPrice$)," \u20AC"),o(5),g(s(21,10,r.cartNbArticles$)?20:-1),o(3),D(s(25,12,r.cartArticles$))}}function W(n,a){n&1&&E(0,"app-loader")}var le=(()=>{let a=class a{constructor(){this.theme=S("NgRx"),this.page=S("Shopping cart"),this.cartArticles$=_([]),this.cartTotalPrice$=_(0),this.cartNbArticles$=_(0),this.cartService=T(L)}ngOnInit(){this.cartArticles$=this.cartService.getCartArticles(),this.cartTotalPrice$=this.cartService.getCartTotalPrice(),this.cartNbArticles$=this.cartService.getCartNbArticles()}onQuantityChange(c,l){let m=c.target;this.cartService.updateQuantity(l.id,Number(m.value))}removeToCart(c){this.cartService.removeArticle(c.id)}clearCart(){this.cartService.clearCart()}};a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=A({type:a,selectors:[["app-cart"]],standalone:!0,features:[P],decls:14,vars:2,consts:[["quantitySelect",""],[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"row","mb-4"],[1,"card","border-light"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"text-primary"],[1,"card-text","text-end"],["routerLink","/ngrx/articles",1,"card-link","link-offset-2","me-3"],[1,"btn","btn-outline-dark","btn-sm","rounded-pill"],[1,"row","row-cols-1","row-cols-md-3","mb-5","g-4"],[1,"col"],[1,"btn","btn-outline-dark","btn-sm","rounded-pill",3,"click"],[1,"card","h-100"],[1,"card-text"],[1,"text-danger"],[1,"text-decoration-underline"],[1,"form-select","form-select-sm",2,"width","80px",3,"change","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],[1,"btn","btn-outline-danger","btn-sm","rounded-pill",3,"click"]],template:function(l,m){l&1&&(E(0,"app-breadcrumb",2),e(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),i(5,"NgRx : Shopping Cart"),t(),e(6,"div"),i(7," - Gestion d'un panier d'articles avec NgRx + localStorage "),t(),e(8,"div"),i(9," - Pour l'exemple, 10 articles maximum par r\xE9f\xE9rence "),t()()()(),u(10,U,26,14)(11,W,1,0),$(12,10,G,null,11,null,null,1,w),N()),l&2&&h("theme",m.theme())("page",m.page())},dependencies:[q,V,I]});let n=a;return n})();export{le as CartComponent};
