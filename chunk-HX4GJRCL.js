import{a as o}from"./chunk-XWBHPQRK.js";import{f as l}from"./chunk-5F5NVKI4.js";import{ca as $,ha as D,q as s,w as I}from"./chunk-QT5OGN2W.js";import{a as m,b as h}from"./chunk-2NFLSA4Y.js";var E=(()=>{let r=class r{constructor(t){this.httpClient=t}getMovies(){return this.httpClient.get(o.API_END_POINTS.MOVIES)}getMovieById(t){return this.httpClient.get(`${o.API_END_POINTS.MOVIES}/${t}`).pipe(s(e=>e))}getDirectors(){return this.httpClient.get(o.API_END_POINTS.DIRECTORS).pipe(s(i=>i.map(e=>({id:e.id,firstname:e.firstname,lastname:e.lastname.toUpperCase()}))))}getDirectorById(t){return this.httpClient.get(`${o.API_END_POINTS.DIRECTORS}/${t}`).pipe(s(e=>({id:e.id,firstname:e.firstname,lastname:e.lastname.toUpperCase()})))}deleteMovie(t){return this.httpClient.delete(`${o.API_END_POINTS.MOVIES}/${t}`)}resetDatabase(t){return this.httpClient.post(`${o.API_END_POINTS.RESET_DB}/${t}`,{})}getMoviesWithDirectors(){let t=this.getMovies(),i=this.getDirectors();return I([t,i]).pipe(s(([d,n])=>d.map(c=>h(m({},c),{director:n.find(a=>a.id===c.directorId)}))))}getMovieByIdWithDirector(t){let i=this.getMovieById(t),e=this.getDirectors();return I([i,e]).pipe(s(([n,c])=>h(m({},n),{director:c.find(a=>a.id===n.directorId)})))}};r.\u0275fac=function(i){return new(i||r)(D(l))},r.\u0275prov=$({token:r,factory:r.\u0275fac,providedIn:"root"});let p=r;return p})();export{E as a};
