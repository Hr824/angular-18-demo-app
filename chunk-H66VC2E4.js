import{a as G,b as J}from"./chunk-VE3KPBZ3.js";import{$ as C,A as R,Aa as x,B as v,G as m,Ga as T,H as u,Ka as q,Ma as P,O as c,S as _,Sa as H,T as I,U as S,W as V,X as j,Y as z,Z as U,ba as Y,c as W,ca as k,da as D,ea as e,fa as t,ga as E,ha as y,ja as p,ka as g,pa as F,qa as M,sa as i,ta as f,ua as w,w as B,wa as L,xa as A,ya as O,z as N}from"./chunk-K2GECXOO.js";var X=(()=>{let o=class o{constructor(){this.counter=S.required()}increaseCounter(){this.counter()<10&&this.counter.update(()=>this.counter()+1)}decreaseCounter(){this.counter.update(()=>this.counter()>0?this.counter()-1:0)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-child1"]],inputs:{counter:[1,"counter"]},outputs:{counter:"counterChange"},standalone:!0,features:[x],decls:12,vars:5,consts:[[1,"card","border-info","mb-3",2,"max-width","18rem","min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[3,"click","disabled","ngClass"],[1,"card-text","mg-top-40",2,"height","5rem"]],template:function(n,l){n&1&&(e(0,"div",0)(1,"div",1),i(2,"Child Component"),t(),e(3,"div",2)(4,"button",3),p("click",function(){return l.decreaseCounter()}),i(5,"D\xE9cr\xE9menter"),t(),i(6,"\xA0 "),e(7,"button",3),p("click",function(){return l.increaseCounter()}),i(8,"Incr\xE9menter"),t(),e(9,"div",4)(10,"h2"),i(11),t()()()()),n&2&&(c(4),C("disabled",l.counter()<=0)("ngClass",l.counter()>0?"btn btn-outline-info btn-sm":"btn btn-outline-secondary btn-sm"),c(3),C("disabled",l.counter()>=10)("ngClass",l.counter()<10?"btn btn-outline-info btn-sm":"btn btn-outline-secondary btn-sm"),c(4),f(l.counter()))},dependencies:[P,q]});let a=o;return a})();var te=["childSelect"],Z=(()=>{let o=class o{constructor(){this.option=S.required(),this.city=S.required(),this.childSelect=I.required("childSelect"),this.childSelectedIndex=T(()=>{let r=this.childSelect().nativeElement;r.selectedIndex=Number(this.option())})}onChange(r){let n=r.target;this.option.set(n.value),this.city.set(n.selectedOptions[0].innerText)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-child2"]],viewQuery:function(n,l){n&1&&F(l.childSelect,te,5),n&2&&M()},inputs:{option:[1,"option"],city:[1,"city"]},outputs:{option:"optionChange",city:"cityChange"},standalone:!0,features:[x],decls:22,vars:1,consts:[["childSelect",""],[1,"card","border-info","mb-3",2,"max-width","18rem","min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],["aria-label","S\xE9lection ville",1,"form-select",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"card-text"]],template:function(n,l){if(n&1){let h=y();e(0,"div",1)(1,"div",2),i(2,"Child Component"),t(),e(3,"div",3)(4,"select",4,0),p("change",function(d){return m(h),u(l.onChange(d))}),e(6,"option",5),i(7,"S\xE9lectionnez une ville"),t(),e(8,"option",6),i(9,"Paris"),t(),e(10,"option",7),i(11,"Barcelone"),t(),e(12,"option",8),i(13,"Rome"),t(),e(14,"option",9),i(15,"New York"),t(),e(16,"option",10),i(17,"Munich"),t(),e(18,"option",11),i(19,"Londres"),t()(),e(20,"p",12),i(21),t()()()}n&2&&(c(21),f(l.childSelectedIndex()))}});let a=o;return a})();var ie=(a,o)=>o.id,ne=()=>[q];function re(a,o){if(a&1){let s=y();e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td")(6,"button",6),p("click",function(){let n=m(s).$implicit,l=g(2);return u(l.removeArticle(n))}),i(7,"-"),t(),i(8,"\xA0 "),e(9,"button",6),p("click",function(){let n=m(s).$implicit,l=g(2);return u(l.addArticle(n))}),i(10,"+"),t(),i(11,"\xA0 "),e(12,"button",6),p("click",function(){let n=m(s).$implicit,l=g(2);return u(l.clearQuantity(n))}),i(13,"Supprimer"),t()()()}if(a&2){let s=o.$implicit;c(2),f(s.name),c(2),w("",s.unitPrice," \u20AC"),c(2),C("disabled",s.quantity<=0)("ngClass",s.quantity>0?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),c(3),C("disabled",s.quantity>=5)("ngClass",s.quantity<5?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),c(3),C("disabled",s.quantity<=0)("ngClass",s.quantity>0?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm")}}function le(a,o){if(a&1){let s=y();e(0,"table",4)(1,"thead")(2,"tr")(3,"th",5),i(4,"Article"),t(),e(5,"th",5),i(6,"Prix unitaire"),t(),e(7,"th")(8,"button",6),p("click",function(){m(s);let n=g();return u(n.clearQuantities())}),i(9,"Supprimer tout"),t()()()(),e(10,"tbody"),k(11,re,14,8,"tr",null,ie),t()()}if(a&2){let s=g();c(8),C("disabled",s.quantities()<=0)("ngClass",s.quantities()>0?"btn btn-outline-info btn-sm":"btn btn-outline-secondary btn-sm"),c(3),D(s.articles())}}function oe(a,o){a&1&&E(0,"app-loader")}var $=(()=>{let o=class o{constructor(){this.articles=S.required(),this.selectedArticles=S.required(),this.quantities=_(0)}addArticle(r){r.quantity<5&&(r.quantity+=1,r.totalPrice=r.quantity*r.unitPrice,this.selectedArticles.set(this.articles().filter(n=>n.quantity>0)),this.quantities.update(n=>n+1))}removeArticle(r){r.quantity>0&&(r.quantity-=1,r.totalPrice=r.quantity*r.unitPrice,this.selectedArticles.set(this.articles().filter(n=>n.quantity>0)),this.quantities.update(n=>n-1))}clearQuantity(r){r.quantity>0&&(this.quantities.update(n=>n-r.quantity),r.quantity=0,r.totalPrice=0,this.selectedArticles.set(this.articles().filter(n=>n.quantity>0)))}clearQuantities(){this.articles().forEach(r=>{r.quantity=0,r.totalPrice=0}),this.selectedArticles.set(this.articles().filter(r=>r.quantity>0)),this.quantities.set(0)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-child3"]],inputs:{articles:[1,"articles"],selectedArticles:[1,"selectedArticles"]},outputs:{articles:"articlesChange",selectedArticles:"selectedArticlesChange"},standalone:!0,features:[x],decls:8,vars:0,consts:[[1500],[1,"card","border-info","mb-3"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"table","table-striped"],["scope","col"],[3,"click","disabled","ngClass"]],template:function(n,l){n&1&&(e(0,"div",1)(1,"div",2),i(2,"Child Component"),t(),e(3,"div",3),V(4,le,13,2)(5,oe,1,0),z(6,4,ne,null,5,null,null,0,j),U(),t()())},dependencies:[G,P]});let a=o;return a})();var ee=(()=>{let o=class o{constructor(r){this.httpClient=r,this.ARTICLE_API_URL="api/articles"}getArticles(){return this.httpClient.get(this.ARTICLE_API_URL)}};o.\u0275fac=function(n){return new(n||o)(N(H))},o.\u0275prov=B({token:o,factory:o.\u0275fac,providedIn:"root"});let a=o;return a})();var ae=["parentSelect"],ce=(a,o)=>o.id;function se(a,o){if(a&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t()()),a&2){let s=o.$implicit;c(2),f(s.name),c(2),w("",s.unitPrice," \u20AC"),c(2),f(s.quantity),c(2),w("",s.totalPrice," \u20AC")}}function de(a,o){if(a&1&&(e(0,"p",9),i(1,"Articles s\xE9lectionn\xE9s"),t(),e(2,"table",32)(3,"thead")(4,"tr")(5,"th",33),i(6,"Article"),t(),e(7,"th",33),i(8,"Prix unitaire"),t(),e(9,"th",33),i(10,"Quantit\xE9"),t(),e(11,"th",33),i(12,"Prix"),t()()(),e(13,"tbody"),k(14,se,9,4,"tr",null,ce),t(),e(16,"tfoot")(17,"tr")(18,"th",34),i(19),t()()()()),a&2){let s=g();c(14),D(s.selectedArticles()),c(5),w("Total : ",s.total()," \u20AC")}}function me(a,o){a&1&&(e(0,"p",9),i(1,"Aucun article s\xE9lectionn\xE9"),t())}var Oe=(()=>{let o=class o{constructor(){this.theme=_("Signals"),this.page=_("Model Input"),this.articles=_([]),this.selectedArticles=_([]),this.subscriptions=new W,this.articleService=R(ee),this.total=T(()=>{let r=0;return this.selectedArticles().forEach(n=>{r+=n.quantity*n.unitPrice}),r}),this.counter=_(0),this.selectedOption=_("0"),this.selectedCity=_("Aucune ville s\xE9lectionn\xE9e"),this.parentSelect=I.required("parentSelect"),this.parentSelectedIndex=T(()=>{let r=this.parentSelect().nativeElement;r.selectedIndex=Number(this.selectedOption())})}ngOnInit(){this.getArticles()}ngOnDestroy(){this.subscriptions.unsubscribe()}getArticles(){let r=this.articleService.getArticles();this.subscriptions.add(r.subscribe({next:n=>{this.articles.set(n)}}))}increaseCounter(){this.counter()<10&&this.counter.update(()=>this.counter()+1)}decreaseCounter(){this.counter.update(()=>this.counter()>0?this.counter()-1:0)}onChange(r){let n=r.target;this.selectedOption.set(n.value),this.selectedCity.set(n.selectedOptions[0].innerText)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-parent"]],viewQuery:function(n,l){n&1&&F(l.parentSelect,ae,5),n&2&&M()},standalone:!0,features:[x],decls:87,vars:14,consts:[["parentSelect",""],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-5"],[1,"card","border-danger","mb-3",2,"min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"card-text","fw-bold"],[1,"col-1","text-center"],[2,"font-size","70px"],[1,"col-6"],[3,"articlesChange","selectedArticlesChange","articles","selectedArticles"],[1,"row","mg-top-40"],[1,"col-3"],[1,"card","border-danger","mb-3",2,"max-width","18rem","min-height","15rem"],[3,"click","disabled","ngClass"],[1,"card-text","mg-top-40",2,"height","5rem"],[1,"col-2","text-center"],[3,"counterChange","counter"],[1,"col-4"],["aria-label","S\xE9lection ville",1,"form-select",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"card-text"],[3,"cityChange","optionChange","city","option"],[1,"table","table-striped"],["scope","col"],["colspan","4"]],template:function(n,l){if(n&1){let h=y();E(0,"app-breadcrumb",1),e(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),i(5,"Model Input Signals"),t()()()(),e(6,"div",2)(7,"div",3)(8,"h4"),i(9,"- Exemple 1"),t()()(),e(10,"div",2)(11,"div",5)(12,"div",6)(13,"div",7),i(14,"Parent Component"),t(),e(15,"div",8),V(16,de,20,1)(17,me,2,0,"p",9),t()()(),e(18,"div",10)(19,"div",11),i(20,"\u21C4"),t(),e(21,"div"),i(22,"Two-way binding"),t()(),e(23,"div",12)(24,"app-child3",13),O("articlesChange",function(d){return m(h),A(l.articles,d)||(l.articles=d),u(d)})("selectedArticlesChange",function(d){return m(h),A(l.selectedArticles,d)||(l.selectedArticles=d),u(d)}),t()()(),e(25,"div",14)(26,"div",3)(27,"h4"),i(28,"- Exemple 2"),t()()(),e(29,"div",2)(30,"div",15)(31,"div",16)(32,"div",7),i(33,"Parent Component"),t(),e(34,"div",8)(35,"button",17),p("click",function(){return m(h),u(l.decreaseCounter())}),i(36,"D\xE9cr\xE9menter"),t(),i(37,"\xA0 "),e(38,"button",17),p("click",function(){return m(h),u(l.increaseCounter())}),i(39,"Incr\xE9menter"),t(),e(40,"div",18)(41,"h2"),i(42),t()()()()(),e(43,"div",19)(44,"div",11),i(45,"\u21C4"),t(),e(46,"div"),i(47,"Two-way binding"),t()(),e(48,"div",15)(49,"app-child1",20),O("counterChange",function(d){return m(h),A(l.counter,d)||(l.counter=d),u(d)}),t()(),E(50,"div",21),t(),e(51,"div",14)(52,"div",3)(53,"h4"),i(54,"- Exemple 3"),t()()(),e(55,"div",2)(56,"div",15)(57,"div",16)(58,"div",7),i(59,"Parent Component"),t(),e(60,"div",8)(61,"select",22,0),p("change",function(d){return m(h),u(l.onChange(d))}),e(63,"option",23),i(64,"S\xE9lectionnez une ville"),t(),e(65,"option",24),i(66,"Paris"),t(),e(67,"option",25),i(68,"Barcelone"),t(),e(69,"option",26),i(70,"Rome"),t(),e(71,"option",27),i(72,"New York"),t(),e(73,"option",28),i(74,"Munich"),t(),e(75,"option",29),i(76,"Londres"),t()(),e(77,"p",30),i(78),t()()()(),e(79,"div",19)(80,"div",11),i(81,"\u21C4"),t(),e(82,"div"),i(83,"Two-way binding"),t()(),e(84,"div",15)(85,"app-child2",31),O("cityChange",function(d){return m(h),A(l.selectedCity,d)||(l.selectedCity=d),u(d)})("optionChange",function(d){return m(h),A(l.selectedOption,d)||(l.selectedOption=d),u(d)}),t()(),E(86,"div",21),t()}n&2&&(C("theme",l.theme())("page",l.page()),c(16),Y(l.selectedArticles().length>0?16:17),c(8),L("articles",l.articles)("selectedArticles",l.selectedArticles),c(11),C("disabled",l.counter()<=0)("ngClass",l.counter()>0?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),c(3),C("disabled",l.counter()>=10)("ngClass",l.counter()<10?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),c(4),f(l.counter()),c(7),L("counter",l.counter),c(29),f(l.parentSelectedIndex()),c(7),L("city",l.selectedCity)("option",l.selectedOption))},dependencies:[P,q,J,X,Z,$]});let a=o;return a})();export{Oe as ParentComponent};
