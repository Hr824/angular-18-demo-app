import{a as O,c as V,e as P}from"./chunk-4OP7KJEB.js";import"./chunk-BYV3QARG.js";import{a as E,b as M}from"./chunk-TUJPL3Y2.js";import"./chunk-VEM6JE5I.js";import{Y as y,ya as I}from"./chunk-BNZ7BCDF.js";import{$b as l,Aa as m,Ba as p,Cb as k,Db as w,Eb as r,Fb as n,Gb as c,Hb as u,Ob as g,Pb as a,Ya as s,bc as b,fb as S,hc as T,ob as _,pa as C,sb as D,tb as v,ub as L,wb as f,zb as x}from"./chunk-TKWDX6SU.js";import"./chunk-2NFLSA4Y.js";var N=(t,d)=>d.id,A=()=>[y,P,V];function K(t,d){if(t&1){let e=u();r(0,"button",11),g("click",function(){m(e);let i=a(3);return p(i.deleteAllItems())}),l(1,"Vider la liste"),n()}}function z(t,d){t&1&&(l(0," \xA0 "),r(1,"span",10),l(2,"Nombre maximum de t\xE2ches atteint"),n())}function F(t,d){if(t&1&&_(0,K,2,0,"button",9)(1,z,3,0,"span",10),t&2){let e=a(2);x(e.todos().length>0?0:-1),s(),x(e.todos().length>=e.nbTodosMax?1:-1)}}function J(t,d){if(t&1){let e=u();r(0,"div",13),l(1),r(2,"button",14),g("click",function(){let i=m(e).$implicit,h=a(3);return p(h.deleteItem(i))}),l(3,"X"),n()()}if(t&2){let e=d.$implicit;f("cdkDragData",e.id),s(),b(" ",e.title," ")}}function $(t,d){if(t&1){let e=u();r(0,"div",12),g("cdkDropListDropped",function(i){m(e);let h=a(2);return p(h.drop(i))}),k(1,J,4,2,"div",13,N),n()}if(t&2){let e=a(2);s(),w(e.todos())}}function j(t,d){if(t&1){let e=u();r(0,"div",2),c(1,"div",5),r(2,"div",6)(3,"div")(4,"button",7),g("click",function(){m(e);let i=a();return p(i.addItem())}),l(5,"Ajouter une t\xE2che"),n(),l(6,"\xA0 "),_(7,F,2,2),n(),c(8,"br"),_(9,$,3,0,"div",8),n(),c(10,"div",5),n()}if(t&2){let e=a();s(4),f("disabled",e.todos().length>=e.nbTodosMax)("ngClass",e.todos().length>=e.nbTodosMax?"btn btn-outline-secondary btn-sm rounded-pill":"btn btn-outline-info btn-sm rounded-pill"),s(3),x(e.todos()?7:-1),s(2),x(e.todos()&&e.todos().length>0?9:-1)}}function B(t,d){t&1&&c(0,"app-loader")}var Y=(()=>{class t{constructor(){this.theme="Angular/CDK",this.theme1="Drag and Drop",this.page="Liste simple",this.localStorageKey="todos",this.nbTodosMax=8,this.todosTab=window.localStorage?localStorage.getItem(this.localStorageKey):null,this.todos=S(this.todosTab?JSON.parse(this.todosTab):[{id:1,title:"Nouvelle t\xE2che (n\xB01)"}])}drop(e){O(this.todos(),e.previousIndex,e.currentIndex),this.setLocalStorageItem(this.localStorageKey,JSON.stringify(this.todos()))}addItem(){if(this.todos().length<this.nbTodosMax){let e=this.todos().length===0?0:this.todos().reduce((o,i)=>o.id>i.id?o:i).id;this.todos().push({id:e+1,title:"Nouvelle t\xE2che (n\xB0"+(e+1)+")"}),this.setLocalStorageItem(this.localStorageKey,JSON.stringify(this.todos()))}}deleteItem(e){let o=this.todos().findIndex(i=>i.id===e.id);o>-1&&(this.todos().splice(o,1),this.setLocalStorageItem(this.localStorageKey,JSON.stringify(this.todos())))}deleteAllItems(){this.todos.set([]),this.setLocalStorageItem(this.localStorageKey,JSON.stringify(this.todos()))}setLocalStorageItem(e,o){window.localStorage&&localStorage.setItem(e,o)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-simple-list"]],standalone:!0,features:[T],decls:16,vars:4,consts:[[1500],[3,"theme","theme1","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-1"],[1,"col-10"],[3,"click","disabled","ngClass"],["cdkDropList","",1,"todo-list"],[1,"btn","btn-sm","btn-outline-danger","rounded-pill"],[1,"text-danger"],[1,"btn","btn-sm","btn-outline-danger","rounded-pill",3,"click"],["cdkDropList","",1,"todo-list",3,"cdkDropListDropped"],["cdkDrag","",1,"todo-box",3,"cdkDragData"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(o,i){o&1&&(c(0,"app-breadcrumb",1),r(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),l(5,"Drag and Drop (Liste simple)"),n(),r(6,"div"),l(7," - Liste avec Drag and Drop pour ordonner les t\xE2ches "),n(),r(8,"div"),l(9," - Utilisation du localStorage pour la persistance des donn\xE9es "),n(),r(10,"div"),l(11),n()()()(),_(12,j,11,4)(13,B,1,0),v(14,12,A,null,13,null,null,0,D),L()),o&2&&(f("theme",i.theme)("theme1",i.theme1)("page",i.page),s(11),b(" - Pour l'exemple, ",i.nbTodosMax," t\xE2ches maximum dans la liste "))},dependencies:[I,E,M],styles:[".todo-list[_ngcontent-%COMP%]{width:400px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.todo-box[_ngcontent-%COMP%]{padding:12px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{border:none;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .5s cubic-bezier(0,0,.2,1)}.todo-box[_ngcontent-%COMP%]:last-child{border:none}.todo-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .todo-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return t})();export{Y as SimpleListComponent};
