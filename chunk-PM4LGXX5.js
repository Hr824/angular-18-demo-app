import{a as W,b as w}from"./chunk-IJBBQY3R.js";import{a as x}from"./chunk-6WDZCA3R.js";import{f as J}from"./chunk-3GBJEJSQ.js";import{$a as h,Bb as D,Cd as S,Nb as o,Ob as l,Qb as O,Ta as r,Vb as P,Yb as c,Zb as u,ca as g,gb as F,ha as C,ia as A,kb as $,lb as y,mb as T,oa as j,ob as B,q as _,tb as p,ub as s,vb as e,w as I,wb as t,xb as f}from"./chunk-6YNXGWAZ.js";import{a as E,b}from"./chunk-2NFLSA4Y.js";var L=(()=>{class i{constructor(n){this.httpClient=n}getBooks(){return this.httpClient.get(x.API_END_POINTS.BOOKS)}getAuthors(){return this.httpClient.get(x.API_END_POINTS.AUTHORS)}getBooksWithAuthors(){let n=this.getBooks(),m=this.getAuthors();return I([n,m]).pipe(_(([N,R])=>N.map(k=>b(E({},k),{author:R.find(H=>H.id===k.authorId)}))))}static{this.\u0275fac=function(m){return new(m||i)(C(J))}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var v=(i,a)=>a.id,K=()=>[S];function U(i,a){if(i&1&&(e(0,"tr")(1,"td"),o(2),t(),e(3,"td"),o(4),t(),e(5,"td"),o(6),t()()),i&2){let n=a.$implicit;r(2),l(n.id),r(2),l(n.title),r(2),l(n.authorId)}}function q(i,a){if(i&1&&(e(0,"tr")(1,"td"),o(2),t(),e(3,"td"),o(4),t(),e(5,"td"),o(6),t()()),i&2){let n=a.$implicit;r(2),l(n.id),r(2),l(n.firstname),r(2),l(n.lastname)}}function z(i,a){if(i&1&&(e(0,"tr")(1,"td"),o(2),t(),e(3,"td"),o(4),t(),e(5,"td"),o(6),t()()),i&2){let n=a.$implicit;r(2),l(n.id),r(2),l(n.title),r(2),O("",n.author==null?null:n.author.firstname," ",n.author==null?null:n.author.lastname,"")}}function G(i,a){if(i&1&&(e(0,"div",11),o(1," R\xE9sultat du forkJoin() "),t(),e(2,"table",12)(3,"thead")(4,"tr")(5,"th",8),o(6,"Id Livre"),t(),e(7,"th",8),o(8,"Titre"),t(),e(9,"th",8),o(10,"Auteur"),t()()(),e(11,"tbody"),p(12,z,7,4,"tr",null,v),c(14,"async"),t()()),i&2){let n=D();r(12),s(u(14,0,n.booksWithAuthors$))}}function Q(i,a){i&1&&f(0,"app-loader")}var le=(()=>{class i{constructor(){this.theme=h("RxJS"),this.page=h("forkJoin"),this.bookService=A(L)}ngOnInit(){this.books$=this.bookService.getBooks(),this.authors$=this.bookService.getAuthors(),this.booksWithAuthors$=this.bookService.getBooksWithAuthors()}static{this.\u0275fac=function(m){return new(m||i)}}static{this.\u0275cmp=j({type:i,selectors:[["app-forkjoin"]],standalone:!0,features:[P],decls:45,vars:6,consts:[[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-6"],[1,"table"],[1,"table-success"],["scope","col"],[1,"table","table-warning"],[1,"row","mg-top-40"],[1,"text-decoration-underline"],[1,"table","table-striped"]],template:function(m,d){m&1&&(f(0,"app-breadcrumb",1),e(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),o(5,"RxJS : Op\xE9rateur forkjoin()"),t(),e(6,"div"),o(7," - forkJoin() de 2 observables (Livres et Auteurs) "),t(),e(8,"div"),o(9,' - La jointure se fait sur la propri\xE9t\xE9 "Id Auteur" '),t()()()(),e(10,"div",2)(11,"div",5)(12,"table",6)(13,"thead",7)(14,"tr")(15,"th",8),o(16,"Id Livre"),t(),e(17,"th",8),o(18,"Titre"),t(),e(19,"th",8),o(20,"Id Auteur"),t()()(),e(21,"tbody"),p(22,U,7,3,"tr",null,v),c(24,"async"),t()()(),e(25,"div",5)(26,"table",6)(27,"thead",9)(28,"tr")(29,"th",8),o(30,"Id Auteur"),t(),e(31,"th",8),o(32,"Pr\xE9nom"),t(),e(33,"th",8),o(34,"Nom"),t()()(),e(35,"tbody"),p(36,q,7,3,"tr",null,v),c(38,"async"),t()()()(),e(39,"div",10)(40,"div",3),F(41,G,15,2)(42,Q,1,0),y(43,41,K,null,42,null,null,0,$),T(),t()()),m&2&&(B("theme",d.theme())("page",d.page()),r(22),s(u(24,2,d.books$)),r(14),s(u(38,4,d.authors$)))},dependencies:[w,W,S]})}}return i})();export{le as ForkjoinComponent};
