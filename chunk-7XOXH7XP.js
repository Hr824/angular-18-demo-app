import{a as W}from"./chunk-LJ24UNVK.js";import{a as V,b as L}from"./chunk-RCBXHKSX.js";import"./chunk-6WDZCA3R.js";import"./chunk-QYJVNRUJ.js";import"./chunk-SOPIE2EC.js";import{$b as n,Aa as v,Ba as f,Cb as T,Db as w,E as S,Eb as r,Fb as t,Gb as a,Hb as b,Ob as E,Pb as m,Ya as l,a as C,ac as I,bc as d,cc as y,fb as _,hc as k,ja as g,ob as p,pa as M,sb as D,tb as F,ub as O,wb as x,zb as h}from"./chunk-HFAONLQ5.js";import"./chunk-2NFLSA4Y.js";var $=(i,c)=>c.id,A=()=>[import("./chunk-CSJIWUW2.js").then(i=>i.ChildComponent)];function j(i,c){if(i&1){let e=b();r(0,"li")(1,"app-child",9),E("buttonClicked",function(s){v(e);let u=m(2);return f(u.getSelectedMovieDetails(s))}),t()()}if(i&2){let e=c.$implicit;l(),x("buttonId",e.id)("buttonText",e.title)}}function B(i,c){if(i&1){let e=b();r(0,"button",10),E("click",function(){v(e);let s=m(2);return f(s.initMoviesList())}),n(1,"R\xE9initialiser la liste des films"),t()}}function R(i,c){if(i&1&&(r(0,"div",8)(1,"div",11),n(2),t(),r(3,"div",12)(4,"p",13)(5,"span",14),n(6,"Ann\xE9e"),t(),n(7),t(),r(8,"p",13)(9,"span",14),n(10,"Dur\xE9e"),t(),n(11),t(),r(12,"p",13)(13,"span",14),n(14,"R\xE9alisateur"),t(),n(15),t(),r(16,"p",13)(17,"span",14),n(18,"Acteurs principaux"),t(),n(19," :"),a(20,"br"),n(21),t(),r(22,"p",13)(23,"span",14),n(24,"Synopsis"),t(),n(25," :"),a(26,"br"),n(27),t()()()),i&2){let e,o=m(2);l(2),I(o.selectedMovie().title),l(5),d(" : ",o.selectedMovie().year,""),l(4),d(" : ",o.selectedMovie().duration,""),l(4),y(" : ",(e=o.selectedMovie().director)==null?null:e.firstname," ",(e=o.selectedMovie().director)==null?null:e.lastname,""),l(6),d(" ",o.selectedMovie().actors.join(", "),""),l(6),d(" ",o.selectedMovie().synopsis,"")}}function q(i,c){if(i&1&&(r(0,"div",5)(1,"div")(2,"ul"),T(3,j,2,2,"li",null,$),t(),p(5,B,2,0,"button",6),t()(),r(6,"div",7),p(7,R,28,7,"div",8),t()),i&2){let e=m();l(3),w(e.movies()),l(2),h(e.movies()&&e.movies().length===0?5:-1),l(2),h(e.selectedMovie()?7:-1)}}function N(i,c){i&1&&a(0,"app-loader")}var U=(()=>{class i{constructor(){this.theme="Autres",this.theme1="Events",this.page="output() function",this.movies=_([]),this.selectedMovie=_(null),this.subscriptions=new C,this.movieService=g(W)}ngOnInit(){this.getMovies()}ngOnDestroy(){this.subscriptions.unsubscribe()}getMovies(){this.subscriptions.add(this.movieService.getMoviesWithDirectors().subscribe({next:e=>this.movies.set(e)}))}getSelectedMovieDetails(e){let o=Number(e.currentTarget.id),s=this.movieService.getMovieByIdWithDirector(o);this.subscriptions.add(s.subscribe({next:u=>{this.selectedMovie.set(u)},error:u=>{}}))}initMoviesList(){let e=this.movieService.resetDatabase("movies").pipe(S(()=>this.movieService.getMoviesWithDirectors()));this.subscriptions.add(e.subscribe({next:o=>this.movies.set(o)}))}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-output-function"]],standalone:!0,features:[k],decls:17,vars:3,consts:[[1500],[3,"theme","theme1","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-3"],[1,"btn","btn-sm","btn-outline-info","rounded-pill"],[1,"col-9"],[1,"card","border-info","mb-3",2,"max-width","30rem"],[3,"buttonClicked","buttonId","buttonText"],[1,"btn","btn-sm","btn-outline-info","rounded-pill",3,"click"],[1,"card-header","text-center","fw-bold"],[1,"card-body"],[1,"card-text"],[1,"fw-semibold","fst-italic"]],template:function(o,s){o&1&&(a(0,"app-breadcrumb",1),r(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),n(5,"output() function"),t(),r(6,"div"),n(7,' - Chaque film de la liste est 1 composant "enfant" '),t(),r(8,"div"),n(9,` - L'\xE9v\xE8nement (click) du film s\xE9lectionn\xE9 dans la liste est pass\xE9 au composant "parent" avec la fonction "output()" `),t(),r(10,"div"),n(11,' - Le composant "parent" recherche les d\xE9tails du film s\xE9lectionn\xE9 '),t()()()(),r(12,"div",2),p(13,q,8,2)(14,N,1,0),F(15,13,A,null,14,null,null,0,D),O(),t()),o&2&&x("theme",s.theme)("theme1",s.theme1)("page",s.page)},dependencies:[L,V]})}}return i})();export{U as OutputFunctionComponent};
