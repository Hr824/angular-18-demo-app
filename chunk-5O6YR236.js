import{a as H}from"./chunk-CKUI6YQC.js";import{a as j,b as G}from"./chunk-XKS2XRV5.js";import"./chunk-4DBH7YG5.js";import{Bb as i,Cb as _,Db as w,Fb as O,Gb as A,Hb as Q,Jb as g,Qa as d,Ya as f,Yc as q,Za as V,Zb as T,_a as S,c as B,db as k,eb as N,fa as L,fb as z,gb as R,ib as C,kb as Y,la as v,lb as I,mb as D,nb as e,ob as t,pb as E,qb as y,sb as p,tb as x,va as m,wa as u,yb as M,yd as P,zb as F}from"./chunk-AFTQVJE2.js";var K=(()=>{let o=class o{constructor(){this.counter=S.required()}increaseCounter(){this.counter()<10&&this.counter.update(()=>this.counter()+1)}decreaseCounter(){this.counter.update(()=>this.counter()>0?this.counter()-1:0)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-child1"]],inputs:{counter:[1,"counter"]},outputs:{counter:"counterChange"},standalone:!0,features:[g],decls:12,vars:5,consts:[[1,"card","border-info","mb-3",2,"max-width","18rem","min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[3,"click","disabled","ngClass"],[1,"card-text","mg-top-40",2,"height","5rem"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1),i(2,"Child Component"),t(),e(3,"div",2)(4,"button",3),p("click",function(){return r.decreaseCounter()}),i(5,"D\xE9cr\xE9menter"),t(),i(6,"\xA0 "),e(7,"button",3),p("click",function(){return r.increaseCounter()}),i(8,"Incr\xE9menter"),t(),e(9,"div",4)(10,"h2"),i(11),t()()()()),n&2&&(d(4),C("disabled",r.counter()<=0)("ngClass",r.counter()>0?"btn btn-outline-info btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),d(3),C("disabled",r.counter()>=10)("ngClass",r.counter()<10?"btn btn-outline-info btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),d(4),_(r.counter()))},dependencies:[P,q]});let a=o;return a})();var Z=["childSelect"],U=(()=>{let o=class o{constructor(){this.option=S.required(),this.city=S.required(),this.childSelect=V.required("childSelect"),this.childSelectedIndex=T(()=>{let l=this.childSelect().nativeElement;l.selectedIndex=Number(this.option())})}onChange(l){let n=l.target;this.option.set(n.value),this.city.set(n.selectedOptions[0].innerText)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-child2"]],viewQuery:function(n,r){n&1&&M(r.childSelect,Z,5),n&2&&F()},inputs:{option:[1,"option"],city:[1,"city"]},outputs:{option:"optionChange",city:"cityChange"},standalone:!0,features:[g],decls:22,vars:1,consts:[["childSelect",""],[1,"card","border-info","mb-3",2,"max-width","18rem","min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],["aria-label","S\xE9lection ville",1,"form-select",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"card-text"]],template:function(n,r){if(n&1){let h=y();e(0,"div",1)(1,"div",2),i(2,"Child Component"),t(),e(3,"div",3)(4,"select",4,0),p("change",function(s){return m(h),u(r.onChange(s))}),e(6,"option",5),i(7,"S\xE9lectionnez une ville"),t(),e(8,"option",6),i(9,"Paris"),t(),e(10,"option",7),i(11,"Barcelone"),t(),e(12,"option",8),i(13,"Rome"),t(),e(14,"option",9),i(15,"New York"),t(),e(16,"option",10),i(17,"Munich"),t(),e(18,"option",11),i(19,"Londres"),t()(),e(20,"p",12),i(21),t()()()}n&2&&(d(21),_(r.childSelectedIndex()))}});let a=o;return a})();var $=(a,o)=>o.id,ee=()=>[q];function te(a,o){if(a&1){let c=y();e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td")(6,"button",6),p("click",function(){let n=m(c).$implicit,r=x(2);return u(r.removeArticle(n))}),i(7,"-"),t(),i(8,"\xA0 "),e(9,"button",6),p("click",function(){let n=m(c).$implicit,r=x(2);return u(r.addArticle(n))}),i(10,"+"),t(),i(11,"\xA0 "),e(12,"button",6),p("click",function(){let n=m(c).$implicit,r=x(2);return u(r.clearQuantity(n))}),i(13,"Supprimer"),t()()()}if(a&2){let c=o.$implicit;d(2),_(c.name),d(2),w("",c.unitPrice," \u20AC"),d(2),C("disabled",c.quantity<=0)("ngClass",c.quantity>0?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),d(3),C("disabled",c.quantity>=5)("ngClass",c.quantity<5?"btn btn-outline-danger btn-sm":"btn btn-outline-secondary btn-sm"),d(3),C("disabled",c.quantity<=0)("ngClass",c.quantity>0?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill")}}function ie(a,o){if(a&1){let c=y();e(0,"table",4)(1,"thead")(2,"tr")(3,"th",5),i(4,"Article"),t(),e(5,"th",5),i(6,"Prix unitaire"),t(),e(7,"th")(8,"button",6),p("click",function(){m(c);let n=x();return u(n.clearQuantities())}),i(9,"Supprimer tout"),t()()()(),e(10,"tbody"),I(11,te,14,8,"tr",null,$),t()()}if(a&2){let c=x();d(8),C("disabled",c.quantities()<=0)("ngClass",c.quantities()>0?"btn btn-outline-info btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),d(3),D(c.articles())}}function ne(a,o){a&1&&E(0,"app-loader")}var X=(()=>{let o=class o{constructor(){this.articles=S.required(),this.selectedArticles=S.required(),this.quantities=f(0)}addArticle(l){l.quantity<5&&(l.quantity+=1,l.totalPrice=l.quantity*l.unitPrice,this.selectedArticles.set(this.articles().filter(n=>n.quantity>0)),this.quantities.update(n=>n+1))}removeArticle(l){l.quantity>0&&(l.quantity-=1,l.totalPrice=l.quantity*l.unitPrice,this.selectedArticles.set(this.articles().filter(n=>n.quantity>0)),this.quantities.update(n=>n-1))}clearQuantity(l){l.quantity>0&&(this.quantities.update(n=>n-l.quantity),l.quantity=0,l.totalPrice=0,this.selectedArticles.set(this.articles().filter(n=>n.quantity>0)))}clearQuantities(){this.articles().forEach(l=>{l.quantity=0,l.totalPrice=0}),this.selectedArticles.set(this.articles().filter(l=>l.quantity>0)),this.quantities.set(0)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-child3"]],inputs:{articles:[1,"articles"],selectedArticles:[1,"selectedArticles"]},outputs:{articles:"articlesChange",selectedArticles:"selectedArticlesChange"},standalone:!0,features:[g],decls:8,vars:0,consts:[[1500],[1,"card","border-info","mb-3"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"table","table-striped"],["scope","col"],[3,"click","disabled","ngClass"]],template:function(n,r){n&1&&(e(0,"div",1)(1,"div",2),i(2,"Child Component"),t(),e(3,"div",3),k(4,ie,13,2)(5,ne,1,0),z(6,4,ee,null,5,null,null,0,N),R(),t()())},dependencies:[j,P]});let a=o;return a})();var re=["parentSelect"],le=(a,o)=>o.id;function oe(a,o){if(a&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t()()),a&2){let c=o.$implicit;d(2),_(c.name),d(2),w("",c.unitPrice," \u20AC"),d(2),_(c.quantity),d(2),w("",c.totalPrice," \u20AC")}}function ae(a,o){if(a&1&&(e(0,"p",9),i(1,"Articles s\xE9lectionn\xE9s"),t(),e(2,"table",32)(3,"thead")(4,"tr")(5,"th",33),i(6,"Article"),t(),e(7,"th",33),i(8,"Prix unitaire"),t(),e(9,"th",33),i(10,"Quantit\xE9"),t(),e(11,"th",33),i(12,"Prix"),t()()(),e(13,"tbody"),I(14,oe,9,4,"tr",null,le),t(),e(16,"tfoot")(17,"tr")(18,"th",34),i(19),t()()()()),a&2){let c=x();d(14),D(c.selectedArticles()),d(5),w("Total : ",c.total()," \u20AC")}}function de(a,o){a&1&&(e(0,"p",9),i(1,"Aucun article s\xE9lectionn\xE9"),t())}var Ie=(()=>{let o=class o{constructor(){this.theme=f("Signals"),this.page=f("Model Input"),this.articles=f([]),this.selectedArticles=f([]),this.subscriptions=new B,this.articleService=L(H),this.total=T(()=>{let l=0;return this.selectedArticles().forEach(n=>{l+=n.quantity*n.unitPrice}),l}),this.counter=f(0),this.selectedOption=f("0"),this.selectedCity=f("Aucune ville s\xE9lectionn\xE9e"),this.parentSelect=V.required("parentSelect"),this.parentSelectedIndex=T(()=>{let l=this.parentSelect().nativeElement;l.selectedIndex=Number(this.selectedOption())})}ngOnInit(){this.getArticles()}ngOnDestroy(){this.subscriptions.unsubscribe()}getArticles(){let l=this.articleService.getArticles();this.subscriptions.add(l.subscribe({next:n=>{this.articles.set(n)}}))}increaseCounter(){this.counter()<10&&this.counter.update(()=>this.counter()+1)}decreaseCounter(){this.counter.update(()=>this.counter()>0?this.counter()-1:0)}onChange(l){let n=l.target;this.selectedOption.set(n.value),this.selectedCity.set(n.selectedOptions[0].innerText)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=v({type:o,selectors:[["app-parent"]],viewQuery:function(n,r){n&1&&M(r.parentSelect,re,5),n&2&&F()},standalone:!0,features:[g],decls:87,vars:14,consts:[["parentSelect",""],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-5"],[1,"card","border-danger","mb-3",2,"min-height","15rem"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"card-text","fw-bold"],[1,"col-1","text-center"],[2,"font-size","70px"],[1,"col-6"],[3,"articlesChange","selectedArticlesChange","articles","selectedArticles"],[1,"row","mg-top-40"],[1,"col-3"],[1,"card","border-danger","mb-3",2,"max-width","18rem","min-height","15rem"],[3,"click","disabled","ngClass"],[1,"card-text","mg-top-40",2,"height","5rem"],[1,"col-2","text-center"],[3,"counterChange","counter"],[1,"col-4"],["aria-label","S\xE9lection ville",1,"form-select",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"card-text"],[3,"cityChange","optionChange","city","option"],[1,"table","table-striped"],["scope","col"],["colspan","4"]],template:function(n,r){if(n&1){let h=y();E(0,"app-breadcrumb",1),e(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),i(5,"Model Input Signals"),t()()()(),e(6,"div",2)(7,"div",3)(8,"h4"),i(9,"- Exemple 1"),t()()(),e(10,"div",2)(11,"div",5)(12,"div",6)(13,"div",7),i(14,"Parent Component"),t(),e(15,"div",8),k(16,ae,20,1)(17,de,2,0,"p",9),t()()(),e(18,"div",10)(19,"div",11),i(20,"\u21C4"),t(),e(21,"div"),i(22,"Two-way binding"),t()(),e(23,"div",12)(24,"app-child3",13),Q("articlesChange",function(s){return m(h),A(r.articles,s)||(r.articles=s),u(s)})("selectedArticlesChange",function(s){return m(h),A(r.selectedArticles,s)||(r.selectedArticles=s),u(s)}),t()()(),e(25,"div",14)(26,"div",3)(27,"h4"),i(28,"- Exemple 2"),t()()(),e(29,"div",2)(30,"div",15)(31,"div",16)(32,"div",7),i(33,"Parent Component"),t(),e(34,"div",8)(35,"button",17),p("click",function(){return m(h),u(r.decreaseCounter())}),i(36,"D\xE9cr\xE9menter"),t(),i(37,"\xA0 "),e(38,"button",17),p("click",function(){return m(h),u(r.increaseCounter())}),i(39,"Incr\xE9menter"),t(),e(40,"div",18)(41,"h2"),i(42),t()()()()(),e(43,"div",19)(44,"div",11),i(45,"\u21C4"),t(),e(46,"div"),i(47,"Two-way binding"),t()(),e(48,"div",15)(49,"app-child1",20),Q("counterChange",function(s){return m(h),A(r.counter,s)||(r.counter=s),u(s)}),t()(),E(50,"div",21),t(),e(51,"div",14)(52,"div",3)(53,"h4"),i(54,"- Exemple 3"),t()()(),e(55,"div",2)(56,"div",15)(57,"div",16)(58,"div",7),i(59,"Parent Component"),t(),e(60,"div",8)(61,"select",22,0),p("change",function(s){return m(h),u(r.onChange(s))}),e(63,"option",23),i(64,"S\xE9lectionnez une ville"),t(),e(65,"option",24),i(66,"Paris"),t(),e(67,"option",25),i(68,"Barcelone"),t(),e(69,"option",26),i(70,"Rome"),t(),e(71,"option",27),i(72,"New York"),t(),e(73,"option",28),i(74,"Munich"),t(),e(75,"option",29),i(76,"Londres"),t()(),e(77,"p",30),i(78),t()()()(),e(79,"div",19)(80,"div",11),i(81,"\u21C4"),t(),e(82,"div"),i(83,"Two-way binding"),t()(),e(84,"div",15)(85,"app-child2",31),Q("cityChange",function(s){return m(h),A(r.selectedCity,s)||(r.selectedCity=s),u(s)})("optionChange",function(s){return m(h),A(r.selectedOption,s)||(r.selectedOption=s),u(s)}),t()(),E(86,"div",21),t()}n&2&&(C("theme",r.theme())("page",r.page()),d(16),Y(r.selectedArticles().length>0?16:17),d(8),O("articles",r.articles)("selectedArticles",r.selectedArticles),d(11),C("disabled",r.counter()<=0)("ngClass",r.counter()>0?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),d(3),C("disabled",r.counter()>=10)("ngClass",r.counter()<10?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill"),d(4),_(r.counter()),d(7),O("counter",r.counter),d(29),_(r.parentSelectedIndex()),d(7),O("city",r.selectedCity)("option",r.selectedOption))},dependencies:[P,q,G,K,U,X]});let a=o;return a})();export{Ie as ParentComponent};
