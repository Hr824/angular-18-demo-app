import{n as L}from"./chunk-GPQPYOIK.js";import{f as M,j as F,o as B,p as R,q as O,v as q}from"./chunk-SGMR6T6E.js";import{a as V,b as I}from"./chunk-TUJPL3Y2.js";import"./chunk-VEM6JE5I.js";import"./chunk-BNZ7BCDF.js";import{$b as i,Aa as _,Ba as C,Cb as k,Db as D,Eb as e,Fb as t,Gb as E,Hb as b,Ob as f,Pb as u,Ya as a,ac as y,bc as m,fb as S,hc as P,ja as T,kc as p,lc as d,m as x,ob as s,pa as A,sb as w,tb as $,ub as N,wb as h,zb as g}from"./chunk-TKWDX6SU.js";import"./chunk-2NFLSA4Y.js";var j=(n,c)=>c.id,G=()=>[R,O,B,M,F,import("./chunk-P5IXBCRV.js").then(n=>n.AsyncPipe),import("./chunk-3IWZT4Q3.js").then(n=>n.RouterLink)];function z(n,c){n&1&&(e(0,"span"),i(1,"articles"),t())}function H(n,c){n&1&&(e(0,"span"),i(1,"article"),t())}function J(n,c){if(n&1){let r=b();e(0,"button",17),f("click",function(){_(r);let l=u(2);return C(l.clearCart())}),i(1,"Vider le panier"),t()}}function K(n,c){if(n&1){let r=b();e(0,"div",16)(1,"div",18)(2,"div",9)(3,"h5",10),i(4),t(),e(5,"p",19),i(6),t(),e(7,"p",19),i(8),e(9,"span",20),i(10),t(),e(11,"span"),i(12),t()(),e(13,"p",19)(14,"span",21),i(15,"Modifier"),t(),e(16,"select",22,0),f("change",function(l){let v=_(r).$implicit,Q=u(2);return C(Q.onQuantityChange(l,v))}),e(18,"option",23),i(19,"1"),t(),e(20,"option",24),i(21,"2"),t(),e(22,"option",25),i(23,"3"),t(),e(24,"option",26),i(25,"4"),t(),e(26,"option",27),i(27,"5"),t(),e(28,"option",28),i(29,"6"),t(),e(30,"option",29),i(31,"7"),t(),e(32,"option",30),i(33,"8"),t(),e(34,"option",31),i(35,"9"),t(),e(36,"option",32),i(37,"10"),t()()(),e(38,"p",12)(39,"button",33),f("click",function(){let l=_(r).$implicit,v=u(2);return C(v.removeToCart(l))}),i(40,"Supprimer"),t()()()()()}if(n&2){let r=c.$implicit;a(4),y(r.description),a(2),y(r.color),a(2),m("",r.quantity," x "),a(2),m("",r.unitPrice," \u20AC"),a(2),m(" = ",r.totalPrice," \u20AC"),a(4),h("ngModel",r.quantity)}}function U(n,c){if(n&1&&(e(0,"div",6)(1,"div",4)(2,"div",7)(3,"h5",8),i(4,"Panier"),t(),e(5,"div",9)(6,"h5",10),i(7),p(8,"async"),s(9,z,2,0,"span"),p(10,"async"),s(11,H,2,0,"span"),t(),e(12,"h5",10),i(13,"Total : "),e(14,"span",11),i(15),p(16,"async"),t()(),e(17,"p",12)(18,"a",13),i(19,"Retour aux articles"),t(),s(20,J,2,0,"button",14),p(21,"async"),t()()()()(),e(22,"div",15),k(23,K,41,6,"div",16,j),p(25,"async"),t()),n&2){let r=u();a(7),m("",d(8,4,r.cartNbArticles$)," "),a(2),g(d(10,6,r.cartNbArticles$)>1?9:11),a(6),m("",d(16,8,r.cartTotalPrice$)," \u20AC"),a(5),g(d(21,10,r.cartNbArticles$)?20:-1),a(3),D(d(25,12,r.cartArticles$))}}function W(n,c){n&1&&E(0,"app-loader")}var le=(()=>{class n{constructor(){this.theme=S("NgRx"),this.page=S("Shopping cart"),this.cartArticles$=x([]),this.cartTotalPrice$=x(0),this.cartNbArticles$=x(0),this.cartService=T(L)}ngOnInit(){this.cartArticles$=this.cartService.getCartArticles(),this.cartTotalPrice$=this.cartService.getCartTotalPrice(),this.cartNbArticles$=this.cartService.getCartNbArticles()}onQuantityChange(r,o){let l=r.target;this.cartService.updateQuantity(o.id,Number(l.value))}removeToCart(r){this.cartService.removeArticle(r.id)}clearCart(){this.cartService.clearCart()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=A({type:n,selectors:[["app-cart"]],standalone:!0,features:[P],decls:14,vars:2,consts:[["quantitySelect",""],[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"row","mb-4"],[1,"card","border-light"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"text-primary"],[1,"card-text","text-end"],["routerLink","/ngrx/articles",1,"card-link","link-offset-2","me-3"],[1,"btn","btn-outline-dark","btn-sm","rounded-pill"],[1,"row","row-cols-1","row-cols-md-3","mb-5","g-4"],[1,"col"],[1,"btn","btn-outline-dark","btn-sm","rounded-pill",3,"click"],[1,"card","h-100"],[1,"card-text"],[1,"text-danger"],[1,"text-decoration-underline"],[1,"form-select","form-select-sm",2,"width","80px",3,"change","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],[1,"btn","btn-outline-danger","btn-sm","rounded-pill",3,"click"]],template:function(o,l){o&1&&(E(0,"app-breadcrumb",2),e(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),i(5,"NgRx : Shopping Cart"),t(),e(6,"div"),i(7," - Gestion d'un panier d'articles avec NgRx + localStorage "),t(),e(8,"div"),i(9," - Pour l'exemple, 10 articles maximum par r\xE9f\xE9rence "),t()()()(),s(10,U,26,14)(11,W,1,0),$(12,10,G,null,11,null,null,1,w),N()),o&2&&h("theme",l.theme())("page",l.page())},dependencies:[q,V,I]})}}return n})();export{le as CartComponent};
