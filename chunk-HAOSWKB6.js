import{a as $}from"./chunk-W2LMJSW2.js";import{n as R}from"./chunk-LYWTFQAL.js";import{p as k,q,v as P}from"./chunk-JF5KDAHM.js";import{a as I,b as M}from"./chunk-MB26776I.js";import"./chunk-ZTPJUSTV.js";import"./chunk-GXQ4NC5B.js";import{$a as s,Ab as w,Bb as u,Mb as f,Nb as i,Ob as v,Pb as D,Rd as F,Ta as a,Vb as L,a as x,gb as _,ia as d,kb as E,lb as C,mb as y,oa as b,ob as p,pd as O,tb as A,ub as N,vb as e,wb as t,xb as c,ya as h,yb as T,za as g}from"./chunk-MVOKRJHC.js";import"./chunk-2NFLSA4Y.js";var j=(r,m)=>m.id,J=()=>[O,k,q];function B(r,m){if(r&1){let n=T();e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td",14)(8,"select",15,0)(10,"option",16),i(11,"1"),t(),e(12,"option",17),i(13,"2"),t(),e(14,"option",18),i(15,"3"),t(),e(16,"option",19),i(17,"4"),t(),e(18,"option",20),i(19,"5"),t(),e(20,"option",21),i(21,"6"),t(),e(22,"option",22),i(23,"7"),t(),e(24,"option",23),i(25,"8"),t(),e(26,"option",24),i(27,"9"),t(),e(28,"option",25),i(29,"10"),t()()(),e(30,"td")(31,"button",26),w("click",function(){let o=h(n).$implicit,V=f(9),S=u(2);return g(S.addToCart(o,S.convertStringToNumber(V.value)))}),i(32,"Ajouter au panier"),t()()()}if(r&2){let n=m.$implicit,l=f(9);a(2),v(n.description),a(2),v(n.color),a(2),D("",n.unitPrice," \u20AC"),a(25),p("disabled",+l.value==0)("ngClass",+l.value>0?"btn btn-outline-danger btn-sm rounded-pill":"btn btn-outline-secondary btn-sm rounded-pill")}}function G(r,m){if(r&1&&(e(0,"div",3),c(1,"div",6),e(2,"div",7)(3,"div",8)(4,"div",9),i(5,"Liste des r\xE9f\xE9rences"),t(),e(6,"div",10)(7,"table",11)(8,"thead")(9,"tr"),c(10,"th",12)(11,"th",12)(12,"th",12)(13,"th",13)(14,"th",12),t()(),e(15,"tbody"),A(16,B,33,5,"tr",null,j),t()()()()(),c(18,"div",6),t()),r&2){let n=u();a(16),N(n.articles())}}function z(r,m){r&1&&c(0,"app-loader")}var le=(()=>{class r{constructor(){this.theme=s("NgRx"),this.page=s("Shopping cart"),this.articles=s([]),this.subscriptions=new x,this.articleService=d($),this.cartService=d(R)}ngOnInit(){this.getArticles()}ngOnDestroy(){this.subscriptions.unsubscribe()}getArticles(){let n=this.articleService.getArticles();this.subscriptions.add(n.subscribe({next:l=>{this.articles.set(l)}}))}addToCart(n,l){let o=JSON.parse(JSON.stringify(n));o.quantity=l,this.cartService.addArticle(o,10)}convertStringToNumber(n){return Number(n)}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275cmp=b({type:r,selectors:[["app-article-list"]],standalone:!0,features:[L],decls:14,vars:2,consts:[["quantitySelect",""],[1500],[3,"theme","page"],[1,"row"],[1,"col-12"],[1,"mg-page-title"],[1,"col-1"],[1,"col-10"],[1,"card","border-info","mb-3"],[1,"card-header","text-center","fw-bold"],[1,"card-body","text-center"],[1,"table","table-striped"],["scope","col"],["scope","col",2,"width","80px"],[2,"width","80px"],[1,"form-select","form-select-sm"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],[3,"click","disabled","ngClass"]],template:function(l,o){l&1&&(c(0,"app-breadcrumb",2),e(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),i(5,"NgRx : Shopping Cart"),t(),e(6,"div"),i(7," - Gestion d'un panier d'articles avec NgRx + localStorage "),t(),e(8,"div"),i(9," - Pour l'exemple, 10 articles maximum par r\xE9f\xE9rence "),t()()()(),_(10,G,19,0)(11,z,1,0),C(12,10,J,null,11,null,null,1,E),y()),l&2&&p("theme",o.theme())("page",o.page())},dependencies:[F,P,I,M]})}}return r})();export{le as ArticleListComponent};
